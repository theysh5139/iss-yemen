# üöÄ Database Migration Guide: Local to Centralized

This project has transitioned from using individual local databases to a **centralized MongoDB Atlas cloud database**. This ensures all developers work with the same data set and eliminates "it works on my machine" data issues.

---

## üõ†Ô∏è Prerequisites
To manage the database, you must have the **MongoDB Database Tools** installed on your machine.

1.  **Download:** [MongoDB Database Tools MSI](https://www.mongodb.com/try/download/database-tools).
2.  **Install:** Run the installer.
3.  **Path Configuration (Windows):**
    * Find the `bin` folder (usually `C:\Program Files\MongoDB\Tools\100\bin`).
    * Add this path to your **System Environment Variables** under "Path" so you can use `mongodump` and `mongorestore` anywhere.

---

## ‚òÅÔ∏è Setting Up MongoDB Atlas
If you are the administrator setting up the cluster for the first time:

1.  **Create Cluster:** Sign up at [MongoDB Atlas](https://www.mongodb.com/cloud/atlas/register) and create a free **M0** cluster.
2.  **Network Access:** * Go to **Network Access** > **Add IP Address**.
    * For development ease, you can select **"Allow Access From Anywhere"** (0.0.0.0/0) or add specific developer IPs.
3.  **Database Access:**
    * Create a database user (e.g., `iss_yemen`).
    * Assign the role **"Read and Write to any database"**.
    * **Secure the password!**

---

## üì§ How to Migrate Local Data to Cloud
If you have data on your local machine that needs to be moved to the shared cloud database, follow these steps:

### 1. Export from Local
Open your terminal and run:
```bash
mongodump --uri="mongodb://localhost:27017/iss_yemen_club" --out="./db_backup"

### 2. Import to Cloud Cluster
Replace <PASSWORD> with your Atlas database user password:
```bash
mongorestore --uri="mongodb+srv://iss_yemen:<PASSWORD>@cluster0.bsd9msg.mongodb.net/" ./db_backup

## ‚öôÔ∏è Project Configuration
All developers must update their local .env files to connect to the shared instance.

1. Open your .env file.
2. Update the MONGO_URI variable:

# Change this:
# MONGO_URI=mongodb://localhost:27017/iss_yemen_club

# To this:
MONGO_URI=mongodb+srv://iss_yemen:<PASSWORD>@cluster0.bsd9msg.mongodb.net/iss_yemen_club

## ‚òÅÔ∏è Setting Up MongoDB Atlas (For Admins)
If you need to manage access or the cluster:

1. Network Access: Ensure your IP is whitelisted under Network Access > Add IP Address.

2. Database Access: Create users under Database Access. Use the role "Read and Write to any database".

3. Connection: Use the "Connect" button in Atlas to generate new connection strings for different drivers.

‚ö†Ô∏è Important Rules
Shared Data: Deleting a record or collection affects all developers. Use caution when testing destructive features.

Security: Never commit your .env file to GitHub. It is already included in .gitignore. Use .env.example as a template for new team members.

Connection Issues: If you cannot connect, double-check that your current IP address is whitelisted in the MongoDB Atlas dashboard.
